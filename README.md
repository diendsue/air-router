# AI Router Server

A unified API gateway for managing multiple AI service accounts and distributing requests across them.

## Overview

This project acts as a transparent proxy server for OpenAI-compatible AI APIs. It allows you to configure multiple AI service accounts and automatically routes requests to accounts that support the requested model.

## Features

- **Multi-Account Management**: Store and manage API credentials for multiple AI service accounts
- **Model Discovery**: Automatically queries each account's `/v1/models` endpoint to discover available models
- **All-in-One Mode**: Create custom model aliases that map to actual provider models with intelligent routing
  - Support wildcard patterns (e.g., `deepseek*`, `glm*`, `*`)
  - Automatic load balancing across multiple associated models
  - Custom model ID mapping for unified API access
- **Request Routing**: Routes API requests to accounts that support the requested model
- **Load Balancing**: Implements retry logic with random account selection
- **Web UI**: Bilingual interface (English/Chinese) with dual-tab management
  - **Provider Tab**: Manage AI service accounts and credentials
  - **Model Tab**: Configure custom model aliases and associations
- **Debug Interface**: View model-to-account mappings and cache status

## Environment Variables

- `USE_ALL_IN_ONE`: Enable all-in-one mode (default: `true`)
- `DISABLE_CLAUDE`: Filter out Claude models (default: `true`)

## Building & Running

```bash
cd backend
go build -o air_router
./air_router -config ./data -port 8080 -web-port 9000 -path ../frontend
```

**Command-line Flags**:
- `-config`: Directory for data files (default: `./data`)
- `-path`: Path to frontend directory (default: `../frontend`)
- `-port`: Proxy API port (default: `8080`)
- `-web-port`: Web interface port (default: `9000`)

## Usage

1. **Add Providers**: Configure AI service accounts with API keys
2. **Create Models**: Define custom model aliases with associated provider models
3. **Use Proxy**: Send requests to `http://localhost:8080/v1/chat/completions` with your custom model ID

## License

MIT

---

<div style="font-size: 3em; font-weight: bold; text-align: center; margin-top: 50px;">

**THIS PROJECT WAS ENTIRELY GENERATED BY AI**

</div>